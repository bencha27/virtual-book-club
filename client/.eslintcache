[{"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/index.js":"1","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/App.js":"2","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/components/Footer.js":"3","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/components/Navbar.js":"4","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/helpers.js":"5","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/queries.js":"6","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Home.js":"7","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/components/PostList.js":"8","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/mutations.js":"9","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Login.js":"10","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/PostForm.js":"11","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Signup.js":"12","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Posts.js":"13","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/PostSingle.js":"14","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/User.js":"15","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/auth.js":"16"},{"size":757,"mtime":1678815353613,"results":"17","hashOfConfig":"18"},{"size":1706,"mtime":1678826446162,"results":"19","hashOfConfig":"18"},{"size":225,"mtime":1678196339310,"results":"20","hashOfConfig":"18"},{"size":1990,"mtime":1678831344455,"results":"21","hashOfConfig":"18"},{"size":343,"mtime":1678183856454,"results":"22","hashOfConfig":"18"},{"size":1134,"mtime":1678827943460,"results":"23","hashOfConfig":"18"},{"size":687,"mtime":1678224509335,"results":"24","hashOfConfig":"18"},{"size":1342,"mtime":1678831119906,"results":"25","hashOfConfig":"18"},{"size":1096,"mtime":1678824984373,"results":"26","hashOfConfig":"18"},{"size":2730,"mtime":1678831373862,"results":"27","hashOfConfig":"18"},{"size":2498,"mtime":1678830934956,"results":"28","hashOfConfig":"18"},{"size":4320,"mtime":1678831383729,"results":"29","hashOfConfig":"18"},{"size":651,"mtime":1678826233991,"results":"30","hashOfConfig":"18"},{"size":1222,"mtime":1678831082407,"results":"31","hashOfConfig":"18"},{"size":1489,"mtime":1678827055504,"results":"32","hashOfConfig":"18"},{"size":723,"mtime":1678827004722,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"17vech1",{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"36"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"36"},"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/index.js",[],["74","75"],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/App.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/components/Footer.js",[],["76","77"],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/components/Navbar.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/helpers.js",["78"],"export function validateEmail(email) {\n  const regex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n  return regex.test(String(email).toLowerCase());\n}\n\nexport function validatePassword(password) {\n  const regex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\n  if (password.match(regex)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/queries.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Home.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/components/PostList.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/mutations.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Login.js",["79","80"],"import React, { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport { LOGIN_USER } from \"../utils/mutations\";\nimport Auth from \"../utils/auth\";\n\nexport default function Login(props) {\n  // Declare state variables for form inputs\n  const [formState, setFormState] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const [login, { error, data }] = useMutation(LOGIN_USER);\n\n  // Function to handle changes in input fields\n  const handleInputChange = (event) => {\n    // Get the value and name of the input which triggered the change\n    const { name, value } = event.target;\n    \n    // Update input state variables\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  // Function to handle form submission\n  const handleFormSubmit = async (event) => {\n    // Preventing the default behavior of the form submit (page refresh)\n    event.preventDefault();\n\n    try {\n      const { data } = await login({\n        variables: { ...formState },\n      });\n      Auth.login(data.login.token);\n    } catch(err) {\n      console.error(err);\n    }\n\n    // Display an alert with a greeting\n    alert(`Welcome back, ${formState.username}!`);\n\n    // If all the input values are valid, clear out the input fields after registration.\n    setFormState({\n      username: \"\",\n      password: \"\",\n    })\n\n    // return <Navigate to=\"/me\" replace={true} />;\n  };\n\n  return (\n    <div className=\"container-md\">\n      {/* Header */}\n      <div className=\"row text-center\">\n        <h1>Log In</h1>\n      </div>\n\n      {/* Form */}\n      <div className=\"row justify-content-center\">\n        <form className=\"col-md-6\" onSubmit={handleFormSubmit}>\n          {/* Username */}\n          <div className=\"mb-3\">\n            <label for=\"inputUsername\" className=\"form-label\">Username</label>\n            <input type=\"text\" className=\"form-control\" id=\"inputUsername\"\n              name=\"username\" value={formState.username} onChange={handleInputChange}/>\n          </div>\n\n          {/* Password */}\n          <div className=\"mb-3\">\n            <label for=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n            <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\"\n              name=\"password\" value={formState.password} onChange={handleInputChange}\n            />\n          </div>\n\n          {/* Submit button */}\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit</button>\n        </form>\n\n        {error && (\n          <div className=\"row text-center my-3\">\n            <p className=\"error-text text-danger\">{error.message}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/PostForm.js",["81","82","83","84"],"import React, { useState } from 'react';\nimport { redirect } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport { CREATE_POST } from \"../utils/mutations\";\nimport Auth from \"../utils/auth\";\n\nexport default function PostForm() {\n  const [formState, setFormState] = useState({\n    postTitle: \"\",\n    postBody: \"\",\n  });\n\n  const userId = Auth.getUser().data._id;\n\n  const [createPost, { error, data }] = useMutation(CREATE_POST);\n\n  const handleInputChange = (event) => {\n    // Get the value and name of the input which triggered the change\n    const { name, value } = event.target;\n    \n    // Update input state variables\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await createPost({\n        variables: { userId, ...formState },\n      });\n      setFormState({\n        postTitle: \"\",\n        postBody: \"\",\n      });\n      window.location.assign(`/me`);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  return (\n    <div className=\"container-md\">\n      {/* Header */}\n      <div className=\"row text-center\">\n        <h1>Create a post</h1>\n      </div>\n\n      {/* Form */}\n      <div className=\"row justify-content-center\">\n        <form className=\"col-md-6\" onSubmit={handleFormSubmit}>\n          {/* Book title */}\n          <div className=\"mb-3\">\n            <label for=\"inputBookTitle\" className=\"form-label\">Post title</label>\n            <input type=\"text\" className=\"form-control\" id=\"inputBookTitle\" \n              name=\"postTitle\" value={formState.postTitle} onChange={handleInputChange} />\n          </div>\n\n          {/* Book author */}\n          {/* <div className=\"mb-3\">\n            <label for=\"inputBookAuthor\" className=\"form-label\">Book author</label>\n            <input type=\"text\" className=\"form-control\" id=\"inputBookAuthor\" \n              name=\"author\" value={formState.author} onChange={handleInputChange} />\n          </div> */}\n\n          {/* Text */}\n          <div className=\"mb-3\">\n            <label for=\"inputText\" className=\"form-label\">Post</label>\n            <textarea className=\"form-control\" id=\"inputText\" rows=\"10\" \n              name=\"postBody\" value={formState.postBody} onChange={handleInputChange} ></textarea>\n          </div>\n\n          {/* Submit button */}\n          <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n      </div>\n    </div>\n  );\n}","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Signup.js",["85"],"import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { validateEmail, validatePassword } from \"../utils/helpers\";\nimport { useMutation } from \"@apollo/client\";\nimport { CREATE_USER } from \"../utils/mutations\";\nimport Auth from \"../utils/auth\";\n\nexport default function Signup() {\n  // Declare state variables for form inputs\n  const [formState, setFormState] = useState({\n    email: \"\",\n    username: \"\",\n    password: \"\",\n  });\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const [createUser, { error, data }] = useMutation(CREATE_USER);\n\n  const navigate = useNavigate();\n\n  // Function to handle changes in input fields\n  const handleInputChange = (event) => {\n    // Get the value and name of the input which triggered the change\n    const { name, value } = event.target;\n    \n    // Update input state variables\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  // Function to handle form submission\n  const handleFormSubmit = async (event) => {\n    // Preventing the default behavior of the form submit (page refresh)\n    event.preventDefault();\n\n    // If the \"email\" input is not valid OR there is no \"username\" input\n    if (!validateEmail(formState.email) || !formState.username) {\n      // Set the error message\n      setErrorMessage(\"Email or username is invalid. Please try again.\");\n      // Exit out of this code block if something is wrong so that the user can correct it\n      return;\n    }\n\n    // If the \"password\" input is not valid\n    if (!validatePassword(formState.password)) {\n      // Set the error message\n      setErrorMessage(\n        \"Password did not meet the requirements. Please try again.\"\n      );\n      return;\n    }\n\n    try {\n      const { data } = await createUser({\n        variables: { ...formState },\n      });\n      Auth.login(data.createUser.token);\n    } catch(err) {\n      console.error(err);\n    }\n\n    // Display an alert with a greeting\n    alert(`Welcome to the club, ${formState.username}!`);\n\n    // If all the input values are valid, clear out the input fields after registration.\n    setFormState({\n      email: \"\",\n      username: \"\",\n      password: \"\",\n    })\n\n    // Render \"/me\"\n    navigate(\"/me\");\n  };\n\n  return (\n    <div className=\"container-md\">\n      {/* Header */}\n      <div className=\"row text-center\">\n        <h1>Sign Up</h1>\n      </div>\n\n      {/* Form */}\n      <div className=\"row justify-content-center\">\n        <form className=\"col-md-6\" onSubmit={handleFormSubmit}>\n          {/* Email */}\n          <div className=\"mb-3\">\n            <label for=\"inputEmail\" className=\"form-label\">Email address</label>\n            <input type=\"email\" className=\"form-control\" id=\"inputEmail\"\n              name=\"email\" value={formState.email} onChange={handleInputChange}/>\n          </div>\n\n          {/* Username */}\n          <div className=\"mb-3\">\n            <label for=\"inputUsername\" className=\"form-label\">Username</label>\n            <input type=\"text\" className=\"form-control\" id=\"inputUsername\"\n              name=\"username\" value={formState.username} onChange={handleInputChange}/>\n          </div>\n\n          {/* Password */}\n          <div className=\"mb-3\">\n            <label for=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n            <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\"\n              name=\"password\" value={formState.password} onChange={handleInputChange}\n              aria-describedby=\"passwordHelpBlock\"/>\n            <div id=\"passwordHelpBlock\" className=\"form-text\">\n              Your password must be at least 8 characters long, contain uppercase and lower letters and numbers, and must not contain spaces, special characters, or emoji.\n            </div>\n          </div>\n\n          {/* Submit button */}\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit</button>\n        </form>\n\n        {errorMessage && (\n          <div className=\"row text-center my-3\">\n            <p className=\"error-text text-danger\">{errorMessage}</p>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"row text-center my-3\">\n            <p className=\"error-text text-danger\">Something went wrong...</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/Posts.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/PostSingle.js",[],"/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/pages/User.js",["86"],"import React from \"react\";\nimport { Navigate, useParams, Link } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { QUERY_SINGLE_USER, QUERY_ME } from \"../utils/queries\";\nimport Auth from \"../utils/auth\";\nimport PostList from \"../components/PostList\";\n\nexport default function User() {\n  const { userId } = useParams();\n\n  const { loading, data } = useQuery(\n    userId ? QUERY_SINGLE_USER : QUERY_ME,\n    { variables: { userId: userId }}\n  );\n\n  const user = data?.me || data?.user || {};\n\n  if (Auth.loggedIn() && Auth.getUser().data._id === userId) {\n    return <Navigate to=\"/me\" />;\n  }\n\n  if (loading) {\n    return <div>Loading...</div>\n  }\n\n  if (!user?.username) {\n    return (\n      <div className=\"container-md\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-10\">\n            <h4 className=\"text-center\">\n              You need to be logged in to see your page. Use the navigation links above to sign up or log in.\n            </h4>\n          </div>  \n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-md\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-10\">\n          <h2 className=\"text-center mb-4\">My Account</h2>\n          <h3 className=\"text-start offset-1\">My posts</h3>\n          {loading ? (\n            <div>Loading...</div>\n          ) : (\n            <PostList posts={user.posts} />\n          )}\n        </div>\n      </div>\n    </div>\n\n  );\n}","/Users/BenCha/Desktop/BootCamp/virtual-book-club/client/src/utils/auth.js",["87"],"import decode from \"jwt-decode\";\n\nclass AuthService {\n  login(idToken) {\n    localStorage.setItem(\"id_token\", idToken);\n    window.location.assign(\"/me\");\n  }\n\n  getToken() {\n    return localStorage.getItem(\"id_token\");\n  }\n\n  isTokenExpired(token) {\n    const decoded = decode(token);\n    if (decoded.exp < Date.now() / 1000) {\n      localStorage.removeItem(\"id_token\");\n      return true;\n    }\n    return false;\n  }\n  \n  getUser() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token) ? true : false;\n  }\n\n  logout() {\n    localStorage.removeItem(\"id_token\");\n    window.location.assign(\"/\");\n  }\n}\n\nexport default new AuthService();",{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"88","replacedBy":"92"},{"ruleId":"90","replacedBy":"93"},{"ruleId":"94","severity":1,"message":"95","line":2,"column":23,"nodeType":"96","messageId":"97","endLine":2,"endColumn":24,"suggestions":"98"},{"ruleId":"99","severity":1,"message":"100","line":2,"column":10,"nodeType":"101","messageId":"102","endLine":2,"endColumn":18},{"ruleId":"99","severity":1,"message":"103","line":14,"column":26,"nodeType":"101","messageId":"102","endLine":14,"endColumn":30},{"ruleId":"99","severity":1,"message":"104","line":2,"column":10,"nodeType":"101","messageId":"102","endLine":2,"endColumn":18},{"ruleId":"99","severity":1,"message":"105","line":15,"column":24,"nodeType":"101","messageId":"102","endLine":15,"endColumn":29},{"ruleId":"99","severity":1,"message":"103","line":15,"column":31,"nodeType":"101","messageId":"102","endLine":15,"endColumn":35},{"ruleId":"99","severity":1,"message":"103","line":32,"column":15,"nodeType":"101","messageId":"102","endLine":32,"endColumn":19},{"ruleId":"99","severity":1,"message":"103","line":17,"column":31,"nodeType":"101","messageId":"102","endLine":17,"endColumn":35},{"ruleId":"99","severity":1,"message":"106","line":2,"column":31,"nodeType":"101","messageId":"102","endLine":2,"endColumn":35},{"ruleId":"107","severity":1,"message":"108","line":37,"column":1,"nodeType":"109","endLine":37,"endColumn":34},"no-native-reassign",["110"],"no-negated-in-lhs",["111"],["110"],["111"],"no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["112","113"],"no-unused-vars","'Navigate' is defined but never used.","Identifier","unusedVar","'data' is assigned a value but never used.","'redirect' is defined but never used.","'error' is assigned a value but never used.","'Link' is defined but never used.","import/no-anonymous-default-export","Assign instance to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"messageId":"114","fix":"115","desc":"116"},{"messageId":"117","fix":"118","desc":"119"},"removeEscape",{"range":"120","text":"121"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"122","text":"123"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[61,62],"",[61,61],"\\"]